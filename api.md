<!-- Generated by documentation.js. Update this documentation by updating the source code. -->

### Table of Contents

-   [delay](#delay)
-   [time](#time)
-   [limit](#limit)
-   [event](#event)
-   [callback](#callback)
-   [group](#group)
-   [map](#map)
-   [race](#race)
-   [rejection](#rejection)
-   [resolution](#resolution)
-   [completion](#completion)
-   [throw](#throw)
-   [swallow](#swallow)

## delay

Waits for `ms` milliseconds to pass.

**Parameters**

-   `ms` **[number](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number)** the number of milliseconds to wait

**Examples**

```javascript
const start = Date.now()
await delay(5000)
console.log(Date.now() - start)
// => 5000
```

Returns **[promise](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise)** 

## time

Waits for `date`.

**Parameters**

-   `date` **[date](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date)** the date at which to stop waiting

**Examples**

```javascript
const nextYear = new Date(2018, 1)
await time(nextYear)
// => this will run until the end of 2017
```

Returns **[promise](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise)** 

## limit

Waits for the value of `goal`, limited by the resolution of `limiter`.
Throws an Error if `limiter` finishes first or if either throws early.
If `limiter` is a number, limits by time in milliseconds

**Parameters**

-   `goal` **[promise](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise)** the promise to execute
-   `limiter` **([number](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number) \| [promise](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise))** milliseconds or promise to limit by

**Examples**

```javascript
// throw if flowers.jpg can't be retrieved in < 5 seconds
await limit(fetch('flowers.jpg'), 5000)
```

Returns **[promise](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise)** 

## event

Waits for `emitter` to emit an `eventName` event.

**Parameters**

-   `emitter` **EventEmitter** the object to listen on
-   `eventName` **[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** the event to listen for

**Examples**

```javascript
await a.event(server, 'listen')
```

Returns **[promise](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise)&lt;[Array](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array)>** an array of the arguments passed to the `eventName` event

## callback

Calls a function `func` that takes arguments `args` and an `(err, result)` callback.
Waits for the callback result, throwing an Error if err is truthy.

**Parameters**

-   `fn` **[function](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/function)** a function that takes a callback
-   `args` **...[object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)** arguments to pass to `fn`

**Examples**

```javascript
const result = await a.callback(fs.readFile, 'foo.txt')
console.log(result)
// => 'the text of the file'
```

Returns **[promise](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise)** the result passed to the callback

## group

Waits for all Promises in `list` to resolve.
Throws an Error if anything in `list` rejects.

**Parameters**

-   `list` **[array](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array)** promises

**Examples**

```javascript
const results = await a.group([ foo, bar, baz ])
console.log(results.length)
// => 3
```

Returns **[array](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array)** promised results in order

## map

Passes each item in `list` to the Promise-returning function `fn`,
running at most `concurrency` simultaneous promises.
Throws an Error if any promise rejects.

**Parameters**

-   `list` **[array](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array)** items to pass to each promise
-   `concurrency` **[number](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number)** maximum concurrency
-   `fn` **[function](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/function)** takes an item and returns a Promise

**Examples**

```javascript
// pull hundreds of pages from a site without getting blocked
const pages = await a.map(urls, 3, fetch)
```

## race

Waits for the first Promise in `list` to resolve.
Throws an Error if anything in `list` rejects.

**Parameters**

-   `list` **[array](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array)&lt;[Promise](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise)>** racing promises

**Examples**

```javascript
const file = await a.race(fetch(remoteFile), read(localFile))
```

Returns **[promise](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise)** 

## rejection

Waits for `promise` to reject, returning the Error object.
If `promise` resolves successfully, returns `undefined`.

**Parameters**

-   `promise`  

**Examples**

```javascript
const err = await a.rejection(potentialProblem())
if (err) await fix()
```

Returns **[promise](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise)&lt;[Error](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error)>** the Error object, or undefined

## resolution

Waits for the value of `promise`.
If `promise` throws an Error, returns `undefined`.

**Parameters**

-   `promise`  

**Examples**

```javascript
const result = await a.resolution(optionalStep())
if (result) console.log('completed optional step')
```

Returns **[promise](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise)** the result, or undefined

## completion

Waits for `promise` to resolve or reject.
Returns either the resolved value, or the Error object.

**Parameters**

-   `promise`  

**Examples**

```javascript
await a.completion(mightWork())
```

Returns **[promise](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise)** the result or error

## throw

Provides a stack trace for unhandled rejections instead of the default message string.
`throw` and `swallow` can be called multiple times but will only attach a single listener.

**Examples**

```javascript
// without throw
failingPromise()

(node:6051) UnhandledPromiseRejectionWarning: Unhandled promise rejection (rejection id: 1): Error: fail

// get useful information when rejections happen
a.throw()
failingPromise()

/Users/hloftis/code/awaiting/lib/awaiting.js:308
function throwOnRejection (err, promise) { throw err }
                                           ^

Error: fail
   at fail (/Users/hloftis/code/awaiting/test/fixtures/rejection-throw.js:7:9)
   at Object.<anonymous> (/Users/hloftis/code/awaiting/test/fixtures/rejection-throw.js:4:1)
```

Returns **[undefined](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/undefined)** 

## swallow

Silently swallows unhandled rejections.
`throw` and `swallow` can be called multiple times but will only attach a single listener.

**Examples**

```javascript
// suppress useless console warnings when rejections happen
a.swallow()
```

Returns **[undefined](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/undefined)** 
